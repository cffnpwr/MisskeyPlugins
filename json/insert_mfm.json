{
  "type": "plugin",
  "data": "/// @ 0.16.0\n### {\n  id: \"2f8c02e8-2e8c-dca0-f4cd-ea302fdafbb2\"\n  name: \"MFM挿入ボタンを追加するプラグイン\"\n  version: \"1.1.0\"\n  author: \"elysion\"\n  description: \"MFM挿入ボタンを投稿メニューに追加します。\"\n  config: {\n    x2_enable: {\n      type: \"boolean\"\n      label: \"大きく(x2): 無効/有効\"\n      description: \"メニューに表示するかどうか\"\n      default: true\n    }\n    x2_name: {\n      type: \"string\"\n      label: \"表示名\"\n      description: \"メニューでの表示名\"\n      default: \"挿入：大きく(x2)\"\n    }\n    x2_arg: {\n      type: \"string\"\n      label: \"MFM\"\n      description: \"既定値(x2) 以下から、サイズ変更が可能。 x2,x3,x4\"\n      default: \"x2\"\n    }\n    position_enable: {\n      type: \"boolean\"\n      label: \"位置(position): 無効/有効\"\n      description: \"メニューに表示するかどうか\"\n      default: false\n    }\n    position_name: {\n      type: \"string\"\n      label: \"表示名\"\n      description: \"メニューでの表示名\"\n      default: \"挿入：位置(position)\"\n    }\n    position_arg: {\n      type: \"string\"\n      label: \"MFM\"\n      description: \"既定値(position.x=0,y=0)\"\n      default: \"position.x=0,y=0\"\n    }\n    scale_enable: {\n      type: \"boolean\"\n      label: \"拡大(scale): 無効/有効\"\n      description: \"メニューに表示するかどうか\"\n      default: false\n    }\n    scale_name: {\n      type: \"string\"\n      label: \"表示名\"\n      description: \"メニューでの表示名\"\n      default: \"挿入：拡大(scale)\"\n    }\n    scale_arg: {\n      type: \"string\"\n      label: \"MFM\"\n      description: \"既定値(scale.x=1,y=1)\"\n      default: \"scale.x=1,y=1\"\n    }\n    rotate_enable: {\n      type: \"boolean\"\n      label: \"回転(rotate): 無効/有効\"\n      description: \"メニューに表示するかどうか\"\n      default: false\n    }\n    rotate_name: {\n      type: \"string\"\n      label: \"表示名\"\n      description: \"メニューでの表示名\"\n      default: \"挿入：回転(rotate)\"\n    }\n    rotate_arg: {\n      type: \"string\"\n      label: \"MFM\"\n      description: \"既定値(rotate.deg=0)\"\n      default: \"rotate.deg=0\"\n    }\n    flip_enable: {\n      type: \"boolean\"\n      label: \"反転(flip): 無効/有効\"\n      description: \"メニューに表示するかどうか\"\n      default: false\n    }\n    flip_name: {\n      type: \"string\"\n      label: \"表示名\"\n      description: \"メニューでの表示名\"\n      default: \"挿入：反転(flip)\"\n    }\n    flip_arg: {\n      type: \"string\"\n      label: \"MFM\"\n      description: \"既定値(flip) 以下から反転方向指定可能。 flip, flip.v, flip.h, flip.v,alternate, flip.h,alternate\"\n      default: \"flip\"\n    }\n    bg_enable: {\n      type: \"boolean\"\n      label: \"背景色(bg): 無効/有効\"\n      description: \"メニューに表示するかどうか\"\n      default: false\n    }\n    bg_name: {\n      type: \"string\"\n      label: \"表示名\"\n      description: \"メニューでの表示名\"\n      default: \"挿入：背景色(bg)\"\n    }\n    bg_arg: {\n      type: \"string\"\n      label: \"MFM\"\n      description: \"既定値(bg.color=0f0)\"\n      default: \"bg.color=0f0\"\n    }\n    fg_enable: {\n      type: \"boolean\"\n      label: \"文字色(fg): 無効/有効\"\n      description: \"メニューに表示するかどうか\"\n      default: false\n    }\n    fg_name: {\n      type: \"string\"\n      label: \"表示名\"\n      description: \"メニューでの表示名\"\n      default: \"挿入：文字色(fg)\"\n    }\n    fg_arg: {\n      type: \"string\"\n      label: \"MFM\"\n      description: \"既定値(fg.color=ff0000) f00等でも指定可能\"\n      default: \"fg.color=ff0000\"\n    }\n    rainbow_enable: {\n      type: \"boolean\"\n      label: \"虹(rainbow): 無効/有効\"\n      description: \"メニューに表示するかどうか\"\n      default: false\n    }\n    rainbow_name: {\n      type: \"string\"\n      label: \"表示名\"\n      description: \"メニューでの表示名\"\n      default: \"挿入：虹(rainbow)\"\n    }\n    rainbow_arg: {\n      type: \"string\"\n      label: \"MFM\"\n      description: \"既定値(rainbow) bgやfg等組合せ可能。 $[fg.color=f00 $[rainbow レインボー]]\"\n      default: \"rainbow\"\n    }\n    sparkle_enable: {\n      type: \"boolean\"\n      label: \"キラキラ(sparkle): 無効/有効\"\n      description: \"メニューに表示するかどうか\"\n      default: false\n    }\n    sparkle_name: {\n      type: \"string\"\n      label: \"表示名\"\n      description: \"メニューでの表示名\"\n      default: \"挿入：キラキラ(sparkle)\"\n    }\n    sparkle_arg: {\n      type: \"string\"\n      label: \"MFM\"\n      description: \"既定値(sparkle)\"\n      default: \"sparkle\"\n    }\n    blur_enable: {\n      type: \"boolean\"\n      label: \"ぼかし(blur): 無効/有効\"\n      description: \"メニューに表示するかどうか\"\n      default: false\n    }\n    blur_name: {\n      type: \"string\"\n      label: \"表示名\"\n      description: \"メニューでの表示名\"\n      default: \"挿入：ぼかし(blur)\"\n    }\n    blur_arg: {\n      type: \"string\"\n      label: \"MFM\"\n      description: \"既定値(blur)\"\n      default: \"blur\"\n    }\n    bold_enable: {\n      type: \"boolean\"\n      label: \"太字(bold): 無効/有効\"\n      description: \"メニューに表示するかどうか\"\n      default: false\n    }\n    bold_name: {\n      type: \"string\"\n      label: \"表示名\"\n      description: \"メニューでの表示名\"\n      default: \"挿入：太字(bold)\"\n    }\n    bold_arg: {\n      type: \"string\"\n      label: \"MFM\"\n      description: \"既定値(**) **さんまぶり**\"\n      default: \"**\"\n    }\n    italic_enable: {\n      type: \"boolean\"\n      label: \"斜体(italic): 無効/有効\"\n      description: \"メニューに表示するかどうか\"\n      default: false\n    }\n    italic_name: {\n      type: \"string\"\n      label: \"表示名\"\n      description: \"メニューでの表示名\"\n      default: \"挿入：斜体(italic)\"\n    }\n    italic_arg: {\n      type: \"string\"\n      label: \"MFM\"\n      description: \"既定値(i) <i>さんまぶり</i>\"\n      default: \"i\"\n    }\n    strikethrough_enable: {\n      type: \"boolean\"\n      label: \"取り消し線(strikethrough): 無効/有効\"\n      description: \"メニューに表示するかどうか\"\n      default: false\n    }\n    strikethrough_name: {\n      type: \"string\"\n      label: \"表示名\"\n      description: \"メニューでの表示名\"\n      default: \"挿入：取り消し線\"\n    }\n    strikethrough_arg: {\n      type: \"string\"\n      label: \"MFM\"\n      description: \"既定値(~~) ~~さんまぶり~~\"\n      default: \"~~\"\n    }\n    small_enable: {\n      type: \"boolean\"\n      label: \"目立たなくする(small): 無効/有効\"\n      description: \"メニューに表示するかどうか\"\n      default: false\n    }\n    small_name: {\n      type: \"string\"\n      label: \"表示名\"\n      description: \"メニューでの表示名\"\n      default: \"挿入：目立たなくする(small)\"\n    }\n    small_arg: {\n      type: \"string\"\n      label: \"MFM\"\n      description: \"既定値(small) <small>さんまぶり</small>\"\n      default: \"small\"\n    }\n    center_enable: {\n      type: \"boolean\"\n      label: \"中央揃え(center): 無効/有効\"\n      description: \"メニューにcenterを表示するかどうか\"\n      default: false\n    }\n    center_name: {\n      type: \"string\"\n      label: \"表示名\"\n      description: \"メニューでの表示名\"\n      default: \"挿入：中央揃え(center)\"\n    }\n    center_arg: {\n      type: \"string\"\n      label: \"MFM\"\n      description: \"既定値(center) <center>さんまぶり</center>\"\n      default: \"center\"\n    }\n    plain_enable: {\n      type: \"boolean\"\n      label: \"プレーン(plain): 無効/有効\"\n      description: \"メニューに表示するかどうか\"\n      default: false\n    }\n    plain_name: {\n      type: \"string\"\n      label: \"表示名\"\n      description: \"メニューでの表示名\"\n      default: \"挿入：プレーン(plain)\"\n    }\n    plain_arg: {\n      type: \"string\"\n      label: \"MFM\"\n      description: \"既定値(plain) <plain><i>**さんまぶり**</i></plain>\"\n      default: \"plain\"\n    }\n    quote_enable: {\n      type: \"boolean\"\n      label: \"引用(quote): 無効/有効\"\n      description: \"メニューに表示するかどうか\"\n      default: false\n    }\n    quote_name: {\n      type: \"string\"\n      label: \"表示名\"\n      description: \"メニューでの表示名\"\n      default: \"挿入：引用(quote)\"\n    }\n    quote_arg: {\n      type: \"string\"\n      label: \"MFM\"\n      description: \"既定値(>) > さんまぶり\"\n      default: \">\"\n    }\n    inlinecode_enable: {\n      type: \"boolean\"\n      label: \"コード(インライン): 無効/有効\"\n      description: \"メニューに表示するかどうか\"\n      default: false\n    }\n    inlinecode_name: {\n      type: \"string\"\n      label: \"表示名\"\n      description: \"メニューでの表示名\"\n      default: \"挿入：コード（インライン）\"\n    }\n    inlinecode_arg: {\n      type: \"string\"\n      label: \"MFM\"\n      description: \"既定値(`) `<: \\"Hello, world!\\"`\"\n      default: \"`\"\n    }\n    codeblock_enable: {\n      type: \"boolean\"\n      label: \"コードブロック(codeblock): 無効/有効\"\n      description: \"メニューに表示するかどうか\"\n      default: false\n    }\n    codeblock_name: {\n      type: \"string\"\n      label: \"表示名\"\n      description: \"メニューでの表示名\"\n      default: \"挿入：コードブロック\"\n    }\n    codeblock_arg: {\n      type: \"string\"\n      label: \"MFM\"\n      description: \"既定値(```) ```codeblock```\"\n      default: \"```\"\n    }\n    clear_enable: {\n      type: \"boolean\"\n      label: \"全消し(clear): 無効/有効\"\n      description: \"メニューに表示するかどうか\"\n      default: true\n    }\n    clear_name: {\n      type: \"string\"\n      label: \"表示名\"\n      description: \"メニューでの表示名\"\n      default: \"全消し\"\n    }\n    clear_arg: {\n      type: \"string\"\n      label: \"command\"\n      description: \"既定値(clear) 変更不可\"\n      default: \"clear\"\n    }\n    clear_dialog_enable: {\n      type: \"boolean\"\n      label: \"全消し時の確認ダイアログ: 無効/有効\"\n      description: \"全消し時の確認ダイアログを表示するかどうか\"\n      default: true\n    }\n  }\n}\n\nlet config_data = [\n  [Plugin:config.x2_enable, Plugin:config.x2_name, Plugin:config.x2_arg]\n  [Plugin:config.position_enable, Plugin:config.position_name, Plugin:config.position_arg]\n  [Plugin:config.scale_enable, Plugin:config.scale_name, Plugin:config.scale_arg]\n  [Plugin:config.rotate_enable, Plugin:config.rotate_name, Plugin:config.rotate_arg]\n  [Plugin:config.flip_enable, Plugin:config.flip_name, Plugin:config.flip_arg]\n  [Plugin:config.bg_enable, Plugin:config.bg_name, Plugin:config.bg_arg]\n  [Plugin:config.fg_enable, Plugin:config.fg_name, Plugin:config.fg_arg]\n  [Plugin:config.rainbow_enable, Plugin:config.rainbow_name, Plugin:config.rainbow_arg]\n  [Plugin:config.sparkle_enable, Plugin:config.sparkle_name, Plugin:config.sparkle_arg]\n  [Plugin:config.blur_enable, Plugin:config.blur_name, Plugin:config.blur_arg]\n  [Plugin:config.bold_enable, Plugin:config.bold_name, Plugin:config.bold_arg]\n  [Plugin:config.italic_enable, Plugin:config.italic_name, Plugin:config.italic_arg]\n  [Plugin:config.strikethrough_enable, Plugin:config.strikethrough_name, Plugin:config.strikethrough_arg]\n  [Plugin:config.small_enable, Plugin:config.small_name, Plugin:config.small_arg]\n  [Plugin:config.center_enable, Plugin:config.center_name, Plugin:config.center_arg]\n  [Plugin:config.plain_enable, Plugin:config.plain_name, Plugin:config.plain_arg]\n  [Plugin:config.quote_enable, Plugin:config.quote_name, Plugin:config.quote_arg]\n  [Plugin:config.inlinecode_enable, Plugin:config.inlinecode_name, Plugin:config.inlinecode_arg]\n  [Plugin:config.codeblock_enable, Plugin:config.codeblock_name, Plugin:config.codeblock_arg]\n  [Plugin:config.clear_enable, Plugin:config.clear_name, Plugin:config.clear_arg]\n]\n\neach let c config_data {\n  if (c[0]) {\n    Plugin:register_post_form_action(c[1], @(form, update) {\n      var text = \"\"\n      if (c[2] == \"**\") {\n        text = `{c[2]}{form.text}{c[2]}`\n      } elif (c[2] == \"i\") {\n        text = `<{c[2]}>{form.text}</{c[2]}>`\n      } elif (c[2] == \"~~\") {\n        text = `{c[2]}{form.text}{c[2]}`\n      } elif (c[2] == \"small\") {\n        text = `<{c[2]}>{form.text}</{c[2]}>`\n      } elif (c[2] == \"center\") {\n        text = `<{c[2]}>{Str:lf}{form.text}{Str:lf}</{c[2]}>`\n      } elif (c[2] == \"plain\") {\n        text = `<{c[2]}>{form.text}</{c[2]}>`\n      } elif (c[2] == \">\") {\n        text = `{c[2]} {form.text}`\n      } elif (c[2] == \"`\") {\n        text = `{c[2]}{form.text}{c[2]}`\n      } elif (c[2] == \"```\") {\n        text = `{c[2]}{Str:lf}{form.text}{Str:lf}{c[2]}`\n      } elif (c[2] == \"clear\") {\n        if (Plugin:config.clear_dialog_enable) {\n          if (Mk:confirm(\"確認\", \"入力内容を空にします。\", \"warn\")) {\n            text = \"\"\n          } else {\n            return null\n          }\n        } else {\n          text = \"\"\n        }\n      } else {\n        text = `$[{c[2]} {form.text}]`\n      }\n      update(\"text\", text)\n    })\n  }\n}"
}
