{
  "type": "plugin",
  "data": "/// @ 0.16.0\n### {\n  id: \"f05a813f-dac2-dd6b-0925-2026bc0b6836\"\n  name: \"ひらがなをカスタム絵文字に変換するプラグイン\"\n  version: \"2.0.0\"\n  author: \"elysion\"\n  description: \"投稿メニューに【変換：ひらがなをカスタム絵文字にする】を追加します。\"\n}\n\nlet json_data = eval {\n  let pages_data = Mk:api(\"pages/show\", {\n    name: \"convert_custom_emoji_data\"\n    username: \"elysion\"\n  })\n  if (Core:type(pages_data) == \"error\") {\n    Mk:dialog(pages_data.name, [\n      pages_data.info.message\n      `プラグイン用のpagesデータが見つかりませんでした。`\n    ].join(Str:lf), \"warning\")\n    null\n  } else {\n    Json:parse(pages_data.content[0].text)\n  }  \n}\n\nif (json_data != null) {\n  Plugin:register_post_form_action(\"変換：ひらがなをカスタム絵文字にする\", @(form, update) {\n    var text = form.text\n    each (let data, json_data.CONVERT_CUSTOM_EMOJI_DATA) {\n      text = text.replace(data[0], data[1])\n    }\n    update(\"text\", text)\n  })\n}"
}
